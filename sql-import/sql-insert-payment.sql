-- Xóa dữ liệu cũ
DELETE FROM payment;

-- Nhập dữ liệu mới (chỉ 20 records đầu)
-- Lưu ý: received_by sẽ sử dụng admin nếu không tìm thấy staff
INSERT INTO payment (invoice_id, payment_amount, payment_date, payment_method, transaction_reference, received_by, notes) VALUES
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-001'), 1350000, '2024-01-15', 'BANK_TRANSFER', 'TRF-2024-001', COALESCE((SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), (SELECT id FROM user WHERE username = 'admin' LIMIT 1)), 'Thanh toán đầy đủ hóa đơn tháng 1'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-002'), 1600000, '2024-01-16', 'BANK_TRANSFER', 'TRF-2024-002', COALESCE((SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), (SELECT id FROM user WHERE username = 'admin' LIMIT 1)), 'Thanh toán đầy đủ hóa đơn tháng 1'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-003'), 1480000, '2024-01-17', 'CASH', 'CASH-2024-001', COALESCE((SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), (SELECT id FROM user WHERE username = 'admin' LIMIT 1)), 'Thanh toán đầy đủ hóa đơn tháng 1'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-004'), 1760000, '2024-01-18', 'BANK_TRANSFER', 'TRF-2024-003', COALESCE((SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), (SELECT id FROM user WHERE username = 'admin' LIMIT 1)), 'Thanh toán đầy đủ hóa đơn tháng 1'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-005'), 1340000, '2024-01-19', 'CARD', 'CARD-2024-001', COALESCE((SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), (SELECT id FROM user WHERE username = 'admin' LIMIT 1)), 'Thanh toán đầy đủ hóa đơn tháng 1'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-006'), 1350000, '2024-02-15', 'BANK_TRANSFER', 'TRF-2024-004', COALESCE((SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), (SELECT id FROM user WHERE username = 'admin' LIMIT 1)), 'Thanh toán đầy đủ hóa đơn tháng 2'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-007'), 1600000, '2024-02-16', 'BANK_TRANSFER', 'TRF-2024-005', COALESCE((SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), (SELECT id FROM user WHERE username = 'admin' LIMIT 1)), 'Thanh toán đầy đủ hóa đơn tháng 2'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-008'), 1480000, '2024-02-17', 'CASH', 'CASH-2024-002', COALESCE((SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), (SELECT id FROM user WHERE username = 'admin' LIMIT 1)), 'Thanh toán đầy đủ hóa đơn tháng 2'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-009'), 1760000, '2024-02-18', 'BANK_TRANSFER', 'TRF-2024-006', COALESCE((SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), (SELECT id FROM user WHERE username = 'admin' LIMIT 1)), 'Thanh toán đầy đủ hóa đơn tháng 2'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-010'), 1340000, '2024-02-19', 'CARD', 'CARD-2024-002', COALESCE((SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), (SELECT id FROM user WHERE username = 'admin' LIMIT 1)), 'Thanh toán đầy đủ hóa đơn tháng 2'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-011'), 1350000, '2024-03-15', 'BANK_TRANSFER', 'TRF-2024-007', COALESCE((SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), (SELECT id FROM user WHERE username = 'admin' LIMIT 1)), 'Thanh toán đầy đủ hóa đơn tháng 3'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-012'), 1600000, '2024-03-16', 'BANK_TRANSFER', 'TRF-2024-008', COALESCE((SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), (SELECT id FROM user WHERE username = 'admin' LIMIT 1)), 'Thanh toán đầy đủ hóa đơn tháng 3'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-013'), 1480000, '2024-03-17', 'CASH', 'CASH-2024-003', COALESCE((SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), (SELECT id FROM user WHERE username = 'admin' LIMIT 1)), 'Thanh toán đầy đủ hóa đơn tháng 3'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-014'), 1760000, '2024-03-18', 'BANK_TRANSFER', 'TRF-2024-009', COALESCE((SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), (SELECT id FROM user WHERE username = 'admin' LIMIT 1)), 'Thanh toán đầy đủ hóa đơn tháng 3'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-015'), 1340000, '2024-03-19', 'CARD', 'CARD-2024-003', COALESCE((SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), (SELECT id FROM user WHERE username = 'admin' LIMIT 1)), 'Thanh toán đầy đủ hóa đơn tháng 3'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-016'), 1350000, '2024-04-15', 'BANK_TRANSFER', 'TRF-2024-010', (SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), 'Thanh toán đầy đủ hóa đơn tháng 4'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-017'), 1600000, '2024-04-16', 'BANK_TRANSFER', 'TRF-2024-011', (SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), 'Thanh toán đầy đủ hóa đơn tháng 4'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-018'), 1480000, '2024-04-17', 'CASH', 'CASH-2024-004', (SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), 'Thanh toán đầy đủ hóa đơn tháng 4'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-019'), 1760000, '2024-04-18', 'BANK_TRANSFER', 'TRF-2024-012', (SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), 'Thanh toán đầy đủ hóa đơn tháng 4'),
((SELECT id FROM invoice WHERE invoice_number = 'INV-2024-020'), 1340000, '2024-04-19', 'CARD', 'CARD-2024-004', (SELECT user_id FROM staff WHERE staff_code = 'NV001' LIMIT 1), 'Thanh toán đầy đủ hóa đơn tháng 4');
