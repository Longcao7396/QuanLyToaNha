-- Xóa dữ liệu cũ
DELETE FROM repair_request;

-- Nhập dữ liệu mới (sử dụng user_id trực tiếp)
-- Lưu ý: Cần có dữ liệu trong bảng apartment và user trước
INSERT INTO repair_request (apartment_id, resident_id, title, description, repair_type, priority, status, requested_date, scheduled_date, completed_date, assigned_to, estimated_cost, actual_cost, notes) VALUES
((SELECT id FROM apartment LIMIT 1), (SELECT id FROM user WHERE role = 'RESIDENT' LIMIT 1), 'Sửa chữa vòi nước bị rò rỉ', 'Vòi nước trong bếp bị rò rỉ nước, cần sửa chữa ngay', 'PLUMBING', 'MEDIUM', 'COMPLETED', '2024-01-05', '2024-01-06', '2024-01-06', (SELECT id FROM user WHERE role = 'STAFF' LIMIT 1), 200000, 180000, 'Đã sửa xong'),
((SELECT id FROM apartment LIMIT 1 OFFSET 1), (SELECT id FROM user WHERE role = 'RESIDENT' LIMIT 1 OFFSET 1), 'Thay bóng đèn hỏng', 'Bóng đèn phòng khách bị hỏng, cần thay mới', 'ELECTRICAL', 'LOW', 'COMPLETED', '2024-01-08', '2024-01-09', '2024-01-09', (SELECT id FROM user WHERE role = 'STAFF' LIMIT 1), 50000, 50000, 'Đã thay xong'),
((SELECT id FROM apartment LIMIT 1 OFFSET 2), (SELECT id FROM user WHERE role = 'RESIDENT' LIMIT 1 OFFSET 2), 'Sửa chữa điều hòa không lạnh', 'Điều hòa phòng ngủ không lạnh, cần kiểm tra và sửa chữa', 'HVAC', 'HIGH', 'COMPLETED', '2024-01-10', '2024-01-11', '2024-01-12', (SELECT id FROM user WHERE role = 'STAFF' LIMIT 1), 500000, 450000, 'Đã sửa xong'),
((SELECT id FROM apartment LIMIT 1 OFFSET 3), (SELECT id FROM user WHERE role = 'RESIDENT' LIMIT 1 OFFSET 3), 'Sửa chữa cửa không đóng được', 'Cửa chính không đóng được, cần sửa chữa khóa', 'DOOR', 'MEDIUM', 'COMPLETED', '2024-01-12', '2024-01-13', '2024-01-13', (SELECT id FROM user WHERE role = 'STAFF' LIMIT 1), 300000, 280000, 'Đã sửa xong'),
((SELECT id FROM apartment LIMIT 1 OFFSET 4), (SELECT id FROM user WHERE role = 'RESIDENT' LIMIT 1 OFFSET 4), 'Sửa chữa ống nước bị tắc', 'Ống nước bồn rửa bị tắc, cần thông tắc', 'PLUMBING', 'MEDIUM', 'PENDING', '2024-01-15', '2024-01-16', NULL, (SELECT id FROM user WHERE role = 'STAFF' LIMIT 1), 150000, NULL, 'Đang chờ xử lý'),
((SELECT id FROM apartment LIMIT 1 OFFSET 5), (SELECT id FROM user WHERE role = 'RESIDENT' LIMIT 1 OFFSET 5), 'Thay công tắc hỏng', 'Công tắc đèn phòng tắm bị hỏng, cần thay mới', 'ELECTRICAL', 'LOW', 'IN_PROGRESS', '2024-01-18', '2024-01-19', NULL, (SELECT id FROM user WHERE role = 'STAFF' LIMIT 1), 80000, NULL, 'Đang sửa chữa'),
((SELECT id FROM apartment LIMIT 1 OFFSET 6), (SELECT id FROM user WHERE role = 'RESIDENT' LIMIT 1 OFFSET 6), 'Sửa chữa thang máy kẹt', 'Thang máy bị kẹt ở tầng 3, cần sửa chữa ngay', 'ELEVATOR', 'URGENT', 'COMPLETED', '2024-01-20', '2024-01-20', '2024-01-20', (SELECT id FROM user WHERE role = 'STAFF' LIMIT 1), 1000000, 950000, 'Đã sửa xong'),
((SELECT id FROM apartment LIMIT 1 OFFSET 7), (SELECT id FROM user WHERE role = 'RESIDENT' LIMIT 1 OFFSET 7), 'Sửa chữa cửa sổ không đóng được', 'Cửa sổ phòng ngủ không đóng được, cần sửa chữa', 'WINDOW', 'MEDIUM', 'COMPLETED', '2024-01-22', '2024-01-23', '2024-01-23', (SELECT id FROM user WHERE role = 'STAFF' LIMIT 1), 250000, 240000, 'Đã sửa xong'),
((SELECT id FROM apartment LIMIT 1 OFFSET 8), (SELECT id FROM user WHERE role = 'RESIDENT' LIMIT 1 OFFSET 8), 'Sửa chữa vòi sen bị rò rỉ', 'Vòi sen trong phòng tắm bị rò rỉ nước, cần sửa chữa', 'PLUMBING', 'MEDIUM', 'COMPLETED', '2024-01-25', '2024-01-26', '2024-01-26', (SELECT id FROM user WHERE role = 'STAFF' LIMIT 1), 180000, 170000, 'Đã sửa xong'),
((SELECT id FROM apartment LIMIT 1 OFFSET 9), (SELECT id FROM user WHERE role = 'RESIDENT' LIMIT 1 OFFSET 9), 'Thay ổ cắm điện hỏng', 'Ổ cắm điện trong phòng khách bị hỏng, cần thay mới', 'ELECTRICAL', 'MEDIUM', 'COMPLETED', '2024-01-28', '2024-01-29', '2024-01-29', (SELECT id FROM user WHERE role = 'STAFF' LIMIT 1), 120000, 120000, 'Đã thay xong');

